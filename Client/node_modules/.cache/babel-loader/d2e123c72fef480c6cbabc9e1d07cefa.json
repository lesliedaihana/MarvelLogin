{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PERSONAL\\\\Documents\\\\GitHub\\\\MarvelLogin\\\\Client\\\\src\\\\Components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { UserContext } from \"./ContextUser\";\nimport useModal from \"./CustomHooks/useModal\";\nimport { Grid, Checkbox, Button, Typography, TextField } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = _ref => {\n  _s();\n\n  let {\n    setStateLogin\n  } = _ref;\n  const navigate = useNavigate();\n  const [stateChecked, setStateChecked] = useState(false);\n  const [stateForm, setStateForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const {\n    setUser\n  } = useContext(UserContext);\n  const {\n    UseModal,\n    setStateModal\n  } = useModal();\n  const {\n    email,\n    password\n  } = stateForm;\n  const emailRegex = /^[-\\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\\.){1,125}[A-Z]{2,63}$/i;\n\n  const handleChange = e => {\n    setStateForm({ ...stateForm,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (!Object.values(stateForm).every(value => value !== \"\")) {\n      return setStateModal({\n        text: \"Todos los campos son requeridos\",\n        error: true,\n        showmodal: true\n      });\n    }\n\n    if (!emailRegex.test(email)) {\n      return setStateModal({\n        text: \"Porfavor ingrese un correo valido\",\n        error: true,\n        showmodal: true\n      });\n    }\n\n    await axios(\"http://localhost:4000/user/signin\", {\n      method: \"post\",\n      data: stateForm,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      responseType: \"json\"\n    }).then(response => {\n      setStateForm({\n        email: \"\",\n        password: \"\"\n      });\n      setUser(response.data);\n      setStateModal({\n        text: `Bienvenido Sr@ ${response.data.username}`,\n        error: false,\n        showmodal: true\n      });\n      setTimeout(() => {\n        navigate(\"marvelcomics\");\n      }, 3000);\n    }).catch(error => {\n      alert(`${error.response.data.message}`);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    sx: {\n      width: \"100%\",\n      height: \"100vh\",\n      position: \"fixed\",\n      top: \"0px\",\n      left: \"0px\",\n      rigth: \"0px\",\n      bottom: \"0px\",\n      backgroundColor: \"#2b2b2be3\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      cursor: \"pointer\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        width: \"25%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        backgroundColor: \"white\",\n        gap: \"12px\",\n        padding: \"25px\",\n        borderRadius: \"4px\",\n        zIndex: \"100\"\n      },\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h1\",\n        color: \"initial\",\n        sx: {\n          fontSize: \"30px\"\n        },\n        children: \"Ingresar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Correo\",\n        variant: \"outlined\",\n        type: \"text\",\n        name: \"email\",\n        value: email,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Contrase\\xF1a\",\n        variant: \"outlined\",\n        type: \"password\",\n        name: \"password\",\n        value: password,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"end\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"initial\",\n          children: \"Recordarme\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n          checked: stateChecked,\n          onClick: () => {\n            setStateChecked(!stateChecked);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        sx: {\n          textTransform: \"none\",\n          alignSelf: \"end\"\n        },\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UseModal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"mC5XtHIkVS83BXggsDUInB2OveQ=\", false, function () {\n  return [useNavigate, useModal];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useContext","useNavigate","axios","UserContext","useModal","Grid","Checkbox","Button","Typography","TextField","Login","setStateLogin","navigate","stateChecked","setStateChecked","stateForm","setStateForm","email","password","setUser","UseModal","setStateModal","emailRegex","handleChange","e","target","name","value","handleSubmit","preventDefault","Object","values","every","text","error","showmodal","test","method","data","headers","responseType","then","response","username","setTimeout","catch","alert","message","width","height","position","top","left","rigth","bottom","backgroundColor","display","justifyContent","alignItems","cursor","flexDirection","gap","padding","borderRadius","zIndex","fontSize","textTransform","alignSelf"],"sources":["C:/Users/PERSONAL/Documents/GitHub/MarvelLogin/Client/src/Components/Login.js"],"sourcesContent":["import { useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport { UserContext } from \"./ContextUser\";\r\n\r\nimport useModal from \"./CustomHooks/useModal\";\r\n\r\nimport { Grid, Checkbox, Button, Typography, TextField } from \"@mui/material\";\r\n\r\nconst Login = ({ setStateLogin }) => {\r\n  const navigate = useNavigate();\r\n  const [stateChecked, setStateChecked] = useState(false);\r\n\r\n  const [stateForm, setStateForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const {  setUser } = useContext(UserContext);\r\n\r\n  const { UseModal, setStateModal } = useModal();\r\n\r\n  const { email, password } = stateForm;\r\n\r\n  const emailRegex =\r\n    /^[-\\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\\.){1,125}[A-Z]{2,63}$/i;\r\n\r\n  const handleChange = (e) => {\r\n    setStateForm({\r\n      ...stateForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!Object.values(stateForm).every((value) => value !== \"\")) {\r\n      return setStateModal({\r\n        text: \"Todos los campos son requeridos\",\r\n        error: true,\r\n        showmodal: true,\r\n      });\r\n    }\r\n\r\n    if (!emailRegex.test(email)) {\r\n      return setStateModal({\r\n        text: \"Porfavor ingrese un correo valido\",\r\n        error: true,\r\n        showmodal: true,\r\n      });\r\n    }\r\n\r\n    await axios(\"http://localhost:4000/user/signin\", {\r\n      method: \"post\",\r\n      data: stateForm,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      responseType: \"json\",\r\n    })\r\n      .then((response) => {\r\n        setStateForm({\r\n          email: \"\",\r\n          password: \"\",\r\n        });\r\n        setUser(response.data);\r\n        setStateModal({\r\n          text: `Bienvenido Sr@ ${response.data.username}`,\r\n          error: false,\r\n          showmodal: true,\r\n        });\r\n        setTimeout(() => {\r\n          navigate(\"marvelcomics\");\r\n        }, 3000);\r\n      })\r\n      .catch((error) => {\r\n        alert(`${error.response.data.message}`);\r\n      });\r\n  };\r\n  return (\r\n    <Grid\r\n      container\r\n      sx={{\r\n        width: \"100%\",\r\n        height: \"100vh\",\r\n        position: \"fixed\",\r\n        top: \"0px\",\r\n        left: \"0px\",\r\n        rigth: \"0px\",\r\n        bottom: \"0px\",\r\n        backgroundColor: \"#2b2b2be3\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        cursor: \"pointer\",\r\n      }}\r\n    >\r\n      <form\r\n        style={{\r\n          width: \"25%\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          backgroundColor: \"white\",\r\n          gap: \"12px\",\r\n          padding: \"25px\",\r\n          borderRadius: \"4px\",\r\n          zIndex: \"100\",\r\n        }}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <Typography variant=\"h1\" color=\"initial\" sx={{ fontSize: \"30px\" }}>\r\n          Ingresar\r\n        </Typography>\r\n        <TextField\r\n          label=\"Correo\"\r\n          variant=\"outlined\"\r\n          type=\"text\"\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={handleChange}\r\n        />\r\n        <TextField\r\n          label=\"Contraseña\"\r\n          variant=\"outlined\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={handleChange}\r\n        />\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"end\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Typography variant=\"body1\" color=\"initial\">\r\n            Recordarme\r\n          </Typography>\r\n          <Checkbox\r\n            checked={stateChecked}\r\n            onClick={() => {\r\n              setStateChecked(!stateChecked);\r\n            }}\r\n          />\r\n        </div>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n          sx={{ textTransform: \"none\", alignSelf: \"end\" }}\r\n        >\r\n          Enviar\r\n        </Button>\r\n        <UseModal />\r\n      </form>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}